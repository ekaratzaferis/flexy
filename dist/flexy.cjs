"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});function w(n,i){const r=i.getAttribute("position"),l=new n.Box3;l.center=new n.Vector3;for(let c=0;c<r.count;c++){const p=new n.Vector3;p.fromBufferAttribute(r,c),l.expandByPoint(p);const A=r[c],o=r[c+1],t=r[c+2];l.center.add(new n.Vector3(A,o,t))}return l.center.divideScalar(r.count/3),l}const P=function({THREE:n,curve:i,quaternion:r,orientation:l,bufferGeometry:c,axis:p,scene:A}){const o=w(n,c),t=c.attributes.position.array;for(let e=0;e<t.length;e+=3){const u=parseFloat(t[e]),y=parseFloat(t[e+1]),d=parseFloat(t[e+2]);if(p==="x"){const s=(u-o.min.x)/(o.max.x-o.min.x),h=i.getPointAt(s),m=i.getTangentAt(s).normalize(),g=(l||new n.Vector3(0,0,1).applyQuaternion(r).normalize().multiplyScalar(1e6)).clone().cross(m.clone()).normalize(),z=new n.Quaternion().setFromAxisAngle(m.clone(),Math.atan2(d,y));g.applyQuaternion(z);const x=g.clone().setLength(new n.Vector3(0,y,d).length()),a=h.clone().add(x);t[e]=a.x,t[e+1]=a.y,t[e+2]=a.z}else if(p==="z"){const s=(d-o.min.z)/(o.max.z-o.min.z),h=i.getPointAt(s),m=i.getTangentAt(s).normalize(),g=(l||new n.Vector3(1,0,0).applyQuaternion(r).normalize().multiplyScalar(1e6)).clone().cross(m.clone()).normalize(),z=new n.Quaternion().setFromAxisAngle(m.clone(),Math.atan2(y,u)+Math.PI/2);g.applyQuaternion(z);const x=g.clone().setLength(new n.Vector3(u,y,0).length()),a=h.clone().add(x);t[e]=a.x,t[e+1]=a.y,t[e+2]=a.z}else if(p==="y"){const s=(y-o.min.y)/(o.max.y-o.min.y),h=i.getPointAt(s),m=i.getTangentAt(s).normalize(),g=(l.normalize().multiplyScalar(1e6)||new n.Vector3(0,1,0).applyQuaternion(r).normalize().multiplyScalar(1e6)).clone().cross(m.clone()).normalize(),z=new n.Quaternion().setFromAxisAngle(m.clone(),Math.atan2(u,d));g.applyQuaternion(z);const x=g.clone().setLength(new n.Vector3(u,0,d).length()),a=h.clone().add(x);t[e]=a.x,t[e+1]=a.y,t[e+2]=a.z}}c.attributes.position.needsUpdate=!0};exports.bend=P;
