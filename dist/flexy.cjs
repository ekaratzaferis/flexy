"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});let y,i;function f(c){y=c.Box3,i=c.Vector3}function w(c){const n=c.getAttribute("position"),l=new y;l.center=new i;for(let t=0;t<n.count;t++){const e=new i;e.fromBufferAttribute(n,t),l.expandByPoint(e);const o=n[t],r=n[t+1],s=n[t+2];l.center.add(new i(o,r,s))}return l.center.divideScalar(n.count/3),l}const h=function(c,n,l){const t=w(n),e=n.attributes.position.array;for(let o=0;o<e.length;o+=3){const r=parseFloat(e[o]),s=parseFloat(e[o+1]),m=parseFloat(e[o+2]);if(l==="x"){const g=(r-t.min.x)/(t.max.x-t.min.x),a=c.getTangentAt(g).normalize(),x=c.getPointAt(g);let d;s>=t.center.y?d=new i(-a.y,a.x,0).normalize():d=new i(a.y,-a.x,0).normalize();let u;m>=t.center.z?u=new i(0,-a.z,-a.x).normalize():u=new i(0,a.z,a.x).normalize();const z=d.clone().multiplyScalar(Math.abs(s)),b=u.clone().multiplyScalar(Math.abs(m)),p=z.clone().add(b);e[o]=x.x+p.x,e[o+1]=x.y+p.y,e[o+2]=x.z+p.z}}n.attributes.position.needsUpdate=!0},B={bend:h,load3:f};exports.flexy=B;
