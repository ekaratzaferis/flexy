(function(l,r){typeof exports=="object"&&typeof module<"u"?r(exports):typeof define=="function"&&define.amd?define(["exports"],r):(l=typeof globalThis<"u"?globalThis:l||self,r(l.four20={}))})(this,function(l){"use strict";let r,i;function b(c){r=c.Box3,i=c.Vector3}function z(c){const e=c.getAttribute("position"),a=new r;a.center=new i;for(let t=0;t<e.count;t++){const n=new i;n.fromBufferAttribute(e,t),a.expandByPoint(n);const o=e[t],u=e[t+1],d=e[t+2];a.center.add(new i(o,u,d))}return a.center.divideScalar(e.count/3),a}const h={bend:function(c,e,a){const t=z(e),n=e.attributes.position.array;for(let o=0;o<n.length;o+=3){const u=parseFloat(n[o]),d=parseFloat(n[o+1]),y=parseFloat(n[o+2]);if(a==="x"){const g=(u-t.min.x)/(t.max.x-t.min.x),s=c.getTangentAt(g).normalize(),x=c.getPointAt(g);let f;d>=t.center.y?f=new i(-s.y,s.x,0).normalize():f=new i(s.y,-s.x,0).normalize();let p;y>=t.center.z?p=new i(0,-s.z,-s.x).normalize():p=new i(0,s.z,s.x).normalize();const w=f.clone().multiplyScalar(Math.abs(d)),B=p.clone().multiplyScalar(Math.abs(y)),m=w.clone().add(B);n[o]=x.x+m.x,n[o+1]=x.y+m.y,n[o+2]=x.z+m.z}}e.attributes.position.needsUpdate=!0},load3:b};l.flexy=h,Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});
